
%% Set font sf
%\renewcommand{\familydefault}{\sfdefault}

%% Original preamble from Yihui
\usepackage{booktabs}
\usepackage{float}
\usepackage{makecell}
\makeatletter
\def\thm@space@setup{%
  \thm@preskip=8pt plus 2pt minus 4pt
  \thm@postskip=\thm@preskip
}
\makeatother


%% Modify the r chunk style in pdf/Tex to mimic pygment in html + added automatic breaks when R outputs are longer than the page size
\usepackage[dvipsnames]{xcolor}
\usepackage{fvextra} %% Required fro breakline and breakanywhere
\RecustomVerbatimEnvironment{verbatim}{Verbatim}{commandchars=\\\{\}, fontsize=\small, formatcom=\color[RGB]{239,130,13}, breaklines=true, breakanywhere=true}
\usepackage{framed}
\DefineVerbatimEnvironment{Highlighting}{Verbatim}{commandchars=\\\{\}, fontsize=\small}
\definecolor{shadecolor}{RGB}{247,247,247}
\makeatletter
\@ifundefined{Shaded}{
}{\renewenvironment{Shaded}{\begin{snugshade}}{\end{snugshade}}
\renewcommand{\AlertTok}[1]{\textcolor[rgb]{1.00,0.00,0.00}{\textbf{#1}}}
\renewcommand{\AnnotationTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{#1}}}}
\renewcommand{\AttributeTok}[1]{\textcolor[rgb]{0.49,0.56,0.16}{#1}}
\renewcommand{\BaseNTok}[1]{\textcolor[rgb]{0.25,0.63,0.44}{#1}}
\renewcommand{\BuiltInTok}[1]{#1}
\renewcommand{\CharTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{#1}}
\renewcommand{\CommentTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textit{#1}}}
\renewcommand{\CommentVarTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{#1}}}}
\renewcommand{\ConstantTok}[1]{\textcolor[rgb]{0.53,0.00,0.00}{#1}}
\renewcommand{\ControlFlowTok}[1]{\textcolor[rgb]{0.00,0.44,0.13}{\textbf{#1}}}
\renewcommand{\DataTypeTok}[1]{\textcolor[RGB]{144,32,0}{#1}}
\renewcommand{\DecValTok}[1]{\textcolor[rgb]{0.25,0.63,0.44}{#1}}
\renewcommand{\DocumentationTok}[1]{\textcolor[rgb]{0.73,0.13,0.13}{\textit{#1}}}
\renewcommand{\ErrorTok}[1]{\textcolor[rgb]{1.00,0.00,0.00}{\textbf{#1}}}
\renewcommand{\ExtensionTok}[1]{#1}
\renewcommand{\FloatTok}[1]{\textcolor[rgb]{0.25,0.63,0.44}{#1}}
\renewcommand{\FunctionTok}[1]{\textcolor[rgb]{0.02,0.16,0.49}{#1}}
\renewcommand{\ImportTok}[1]{#1}
\renewcommand{\InformationTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{#1}}}}
\renewcommand{\KeywordTok}[1]{\textcolor[RGB]{0,112,32}{\textbf{#1}}}
\renewcommand{\NormalTok}[1]{\textcolor[RGB]{65,131,196}{#1}}
\renewcommand{\OperatorTok}[1]{\textcolor[RGB]{200,0,0}{\textbf{#1}}}
\renewcommand{\OtherTok}[1]{\textcolor[RGB]{30, 150, 3}{\textbf{#1}}}
\renewcommand{\PreprocessorTok}[1]{\textcolor[rgb]{0.74,0.48,0.00}{#1}}
\renewcommand{\RegionMarkerTok}[1]{#1}
\renewcommand{\SpecialCharTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{#1}}
\renewcommand{\SpecialStringTok}[1]{\textcolor[rgb]{0.73,0.40,0.53}{#1}}
\renewcommand{\StringTok}[1]{\textcolor[RGB]{8, 68, 128}{#1}}
\renewcommand{\VariableTok}[1]{\textcolor[rgb]{0.10,0.09,0.49}{#1}}
\renewcommand{\VerbatimStringTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{#1}}
\renewcommand{\WarningTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{#1}}}}
}
\makeatother

%% This is for the watermark
%%\usepackage{draftwatermark}

%% This is for landscape tables
\usepackage{longtable}
\usepackage{pdflscape}

%% This is for multirow tables
\usepackage{multirow}

%% -------------------------------------------------------------%%
%%    Commands kept from the Book Original layout TeX file
%% -------------------------------------------------------------%%

%% Setup from the original TeX layout preserved
\usepackage{pdfpages}


%% --------------------------------------------------------------------------------- %%
%% ---------------- START Original layout from the book TeX files ------------------ %%
%% --------------------------------------------------------------------------------- %%

% \usepackage[grey,utopia]{quotchap}
% \usepackage[left=1.25in,right=1in,top=1.2in,bottom=1.2in]{geometry}
% \usepackage{fancyhdr}
% \usepackage{float}
% \usepackage{calc}
% \usepackage{lastpage}
% \usepackage{amsmath}
% \usepackage{amssymb}
% \usepackage{hhflxbox}
% \usepackage{graphicx}
% \usepackage{marvosym}
% \usepackage{eclbkbox}
% %\usepackage[colorlinks=true,linkcolor=blue,citecolor=blue,pagebackref]{hyperref} %% Error with Rmarkdown
% %\usepackage{nohyperref}
% %\usepackage[french]{babel}
% \usepackage[T1]{fontenc}
% \usepackage{lmodern} %\Rajouter pour enlever la pixelisation du texte
% \usepackage{natbib}
% \usepackage{url}
% \usepackage[labelsep=endash,textfont=sl]{caption}
% % \ifx\flagpdf\undefined\graphicspath{{Figures/eps/},{Photos/thumbs/}}%
% %     \else\ifx\flaglowres\undefined\graphicspath{{Figures/pdf/},{Photos/hires/}}%
% %         \else\graphicspath{{Figures/pdf/},{Photos/lowres/}}\fi\fi
% 
% \usepackage{pdfpages}
% 
% %% Mise en page avec espace entre les paragraphes et pas d'indentation
% %\setlength{\parskip}{11pt}\setlength{\parindent}{0pt}
% 
% \hypersetup{%
%     pdftitle={Manual for building tree volume and biomass allometric
% equations: from field measurement to prediction},%
%     pdfauthor={Nicolas Picard, Laurent Saint-Andr?, Matieu Henry},%
%     pdfsubject={copyright FAO et CIRAD},%
%     pdfkeywords={allometric equation,biomass table,volume table}}
% \fancyhead{}%
% \fancyhead[LE]{\thepage}%
% \fancyhead[RE]{\leftmark}%
% \fancyhead[LO]{\rightmark}%
% \fancyhead[RO]{\thepage}%
% \fancyfoot{}%
% \pagestyle{fancy}
% 
% %% pour g?rer les couleurs conditionnelles
% \def\ifcouleur#1{\ifx\flagcouleur\undefined\relax\else #1\fi}
% \def\ifelsecoul#1#2{\ifx\flagcouleur\undefined #2\else #1\fi}
% \def\ifrouge{\ifcouleur{\color{red}}}
% \def\ifbleu{\ifcouleur{\color{blue}}}
% \def\ifincludegraphics#1#2{\ifx\flagcouleur\undefined\includegraphics[#1]{#2-NB}%
%     \else\includegraphics[#1]{#2}\fi}
% 
% %% DEBUT DES MODIFICATIONS DE TYPE PACKAGE
% \makeatletter
% %%% ----------debut de bigcenter.sty--------------
% \newskip\@bigflushglue \@bigflushglue = -100pt plus 1fil
% \def\bigcenter{\trivlist \bigcentering\item\relax}
% \def\bigcentering{\let\\\@centercr\rightskip\@bigflushglue%
% \leftskip\@bigflushglue
% \parindent\z@\parfillskip\z@skip}
% \def\endbigcenter{\endtrivlist}
% %%% ----------fin de bigcenter.sty--------------
% 
% %% Commande tabcaption
% \newcommand{\tabcaption}{\def\@captype{table}\caption}
% 
% %% Supprime en-tete et bas de page sur la derniere page d'un chapitre si elle est blanche
% \def\cleardoublepage{\clearpage\if@twoside \ifodd\c@page\else
%     \hbox{ }
%     \thispagestyle{empty}
%     \newpage
%     \if@twocolumn\hbox{}\newpage\fi\fi\fi}
% 
% %% Redefinit le style des en-tetes en petites capitales
% \renewcommand{\chaptermark}[1]{
% %        \markboth{\sc\small\chaptername\ \thechapter.\ #1}{}}%% sans fancyhdr
%         \markboth{\sc\chaptername\ \thechapter.\ #1}{}}%% avec fancyhdr
% \renewcommand{\sectionmark}[1]{
% %        \markright{\sc\small\thesection\ #1}}%% sans fancyhdr
%         \markright{\sc\thesection\ #1}}%% avec fancyhdr
% 
% %% Pour mettre toutes les titres de section en police sans s?rif (modification de la classe 'book')
% \renewcommand\section{\@startsection {section}{1}{\z@}%
%                                    {-3.5ex \@plus -1ex \@minus -.2ex}%
%                                    {2.3ex \@plus.2ex}%
%                                    {\sffamily\Large\bfseries}}
% \renewcommand\subsection{\@startsection{subsection}{2}{\z@}%
%                                    {-3.25ex\@plus -1ex \@minus -.2ex}%
%                                    {1.5ex \@plus .2ex}%
%                                    {\sffamily\large\bfseries}}
% \renewcommand\subsubsection{\@startsection{subsubsection}{3}{\z@}%
%                                    {-3.25ex\@plus -1ex \@minus -.2ex}%
%                                    {1.5ex \@plus .2ex}%
%                                    {\sffamily\normalsize\bfseries}}
% \renewcommand\paragraph{\@startsection{paragraph}{4}{\z@}%
%                                    {3.25ex \@plus1ex \@minus.2ex}%
%                                    {-1em}%
%                                    {\sffamily\normalsize\bfseries}}
% \renewcommand\subparagraph{\@startsection{subparagraph}{5}{\parindent}%
%                                    {3.25ex \@plus1ex \@minus .2ex}%
%                                    {-1em}%
%                                    {\sffamily\normalsize\bfseries}}
% 
% %% Red?finit les commandes \tableofcontents, \listoffigures et \listoftables de sorte que
% %% - les en-tetes sont en petites capitales
% %% - il n'y a pas d'en-tete sur la premiere page
% %% (modification de la classe 'book.cls')
% % \def\chapterannex#1{\chapter*{#1
% % %        \@mkboth{\sc\small #1}{\sc\small #1}%% sans fancyhdr
% %         \@mkboth{\sc #1}{\sc #1}%% avec fancyhdr
% %         \addcontentsline{toc}{chapter}{\numberline {}#1}}%% ligne modifi?e
% %     \thispagestyle{plain}}%% ligne ajout?e
% % \renewcommand\tableofcontents{%
% %     \if@twocolumn\@restonecoltrue\onecolumn\else\@restonecolfalse\fi
% %     \chapterannex{\contentsname}
% %     \@starttoc{toc}%
% %     \if@restonecol\twocolumn\fi}
% % \renewcommand\listoffigures{%
% %     \if@twocolumn\@restonecoltrue\onecolumn\else\@restonecolfalse\fi
% %     \chapterannex{\listfigurename}
% %     \@starttoc{lof}%
% %     \if@restonecol\twocolumn\fi}
% % \renewcommand\listoftables{%
% %     \if@twocolumn\@restonecoltrue\onecolumn\else\@restonecolfalse\fi
% %     \chapterannex{\listtablename}
% %     \@starttoc{lot}%
% %     \if@restonecol\twocolumn\fi}
% 
% %% Red?finit l'environnement \thebibliography de sorte que
% %% - les en-tetes sont en petites capitales
% %% - il n'y a pas d'en-tete sur la premiere page
% %% (modification du package 'natbib.sty', qui est d?j? une modification de la classe 'book.cls')
% % \renewcommand\bibsection{%
% %     \if@twocolumn\@restonecoltrue\onecolumn\else\@restonecolfalse\fi
% %     \chapterannex{\bibname}
% %     \if@restonecol\twocolumn\fi}
% % %% red?finit les espaces entre r?f?rences
% % \setlength{\bibhang}{0cm}\setlength{\bibsep}{11pt}
% % %% astuce pour r?cup?rer le nombre total de r?f?rences bibliographiques
% % \newread\fichier
% % \openin\fichier=\jobname.nbr \ifeof\fichier
% %     \typeout{Picolas's Warning: Fichier \jobname.nbr non trouve}
% %     \def\numberofrefs{255 }
% %     \else \read\fichier to \numberofrefs \closein\fichier\relax%
% %     \fi
% 
% %% Red?finit la commande \float@listhead qui est l'?quivalent de \listoffigures
% %% pour le package 'float' (modification du package 'float')
% % \renewcommand\float@listhead[1]{\chapterannex{#1}}%
% 
% %%% ----------environnement fil rouge---------------
% %\def\ext@filrouge{lor}
% \newcommand\listfilrougename{List of Red lines}
% \newcommand\listoffilrouge{%
%     \if@twocolumn\@restonecoltrue\onecolumn\else\@restonecolfalse\fi
%     \chapterannex{\listfilrougename}%
%     \@starttoc{lor}%
%     \if@restonecol\twocolumn\fi}
% \let\l@filrouge\l@figure
% \def\logofilrouge{\vrule height 0.4mm depth 0mm width 1cm\hskip-0.1mm{\Large\Denarius}\!%
%     \raisebox{-0.1cm}{\vrule height 0.4mm depth 0mm width 12.3cm}}%
% \newcounter{filrouge}
% \def\mycontentsline#1#2#3{\contentsline{#1}{#2}{#3}{}} %% ? cause de hyperref qui red?finit cette commande avec 3 arguments
% \newenvironment{filrouge}[2]{%
%     \refstepcounter{filrouge}%
%     \addtocontents{lor}{\protect\mycontentsline {filrouge}%
%         {\string\hyperlink{#2}{\string\numberline\space{\thefilrouge}{\string\ignorespaces\space #1}}}{\thepage}}%
%     \par\vskip12pt\noindent{\ifrouge%
%         \hskip-2ex\raisebox{-0.6ex}{\bellybox:{\arabic{filrouge}}}\logofilrouge}%
%         \nopagebreak\par\smallskip\noindent\textbf{#1}\nopagebreak\par\bigskip\hypertarget{#2}{\label{#2}}}%
%     {\nopagebreak\par\smallskip\noindent{\ifrouge\logofilrouge}\par\vskip12pt}
% %%% ----------fin de l'environnment fil rouge-----
% 
% %% FIN DES MODIFICATIONS DE TYPE PACKAGE
% \makeatother%

%% d?finition du flottant 'photo'
% \newfloat{photo}{tbph}{pho}
% \floatname{photo}{\textsc{Photo}}
% \renewcommand{\thephoto}{\thechapter.\arabic{photo}}
% %% routines pour la mise en page des photos
% \newlength{\marginphoto}\setlength{\marginphoto}{1mm} %% marge s?parant les photos
% \setlength{\fboxsep}{0pt}\setlength{\fboxrule}{0.3pt} %% ?paisseur du cadre noir entourant les photos
% \newlength{\largeurphoto}
% \newlength{\largeurdispophotos}
% \newcommand{\includeonephoto}[1]{%
%     \setlength{\largeurphoto}{\textwidth-2\fboxrule}
%     \framebox{\includegraphics[width=\largeurphoto]{#1}}}
% \newcommand{\includetwophotos}[4]{%
%     \setlength{\largeurdispophotos}{\textwidth-\fboxrule*\real{4}-\marginphoto}%
%     \setlength{\largeurphoto}{\largeurdispophotos*\real{#2}}%
%     \framebox{\includegraphics[width=\largeurphoto]{#1}}%
%     \hskip\marginphoto%
%     \setlength{\largeurphoto}{\largeurdispophotos*\real{#4}}%
%     \framebox{\includegraphics[width=\largeurphoto]{#3}}}
% \newcommand{\includethreephotos}[6]{%
%     \setlength{\largeurdispophotos}{\textwidth-\fboxrule*\real{6}-\marginphoto*\real{2}}%
%     \setlength{\largeurphoto}{\largeurdispophotos*\real{#2}}%
%     \framebox{\includegraphics[width=\largeurphoto]{#1}}%
%     \hskip\marginphoto%
%     \setlength{\largeurphoto}{\largeurdispophotos*\real{#4}}%
%     \framebox{\includegraphics[width=\largeurphoto]{#3}}%
%     \hskip\marginphoto%
%     \setlength{\largeurphoto}{\largeurdispophotos*\real{#6}}%
%     \framebox{\includegraphics[width=\largeurphoto]{#5}}}

%% routines simples
% \bibpunct{(}{)}{;}{a}{,}{,}
%\newenvironment{encadre}{%
%    \par\vskip12pt\begin{breakbox}\noindent{\LARGE\Pointinghand\ }%
%    \begin{minipage}[t]{12cm}\raggedright}{%
%    \end{minipage}\end{breakbox}\par\vskip12pt}
% \def\vect#1{\mathbf{#1}}
% \def\matx#1{\mathbf{#1}}
% \def\tr#1{{}^{\mathrm{t}}#1}
% \def\numeros{n\up{os}\kern.2em}
% \def\d{\mathsf{d}}
% \definecolor{orange}{rgb}{0.94,0.64,0.10}
% \newcommand{\decimal}[2]{\mbox{#1.#2}} %% pour ?viter qu'il y ait un espace apr?s la virgule dans les nombres d?cimaux
% \newcommand{\gloss}[2]{\paragraph{#1.} #2}
% \newcommand{\R}[1]{\par\medskip\noindent{\ifrouge\small\tt #1}\par\medskip\noindent}%
% \newcommand{\Rout}[1]{\par\medskip\noindent{\ifbleu\small\tt #1}\par\medskip\noindent}
%\NoAutoSpaceBeforeFDP
% \def\bidouille#1{#1}

%% ---------------------------------------------------------------------------------
%% ---------------- END Original layout from the book TeX files --------------------
%% ---------------------------------------------------------------------------------

%% Stop make title from placing YAML title before the cover page
\let\oldmaketitle\maketitle
\AtBeginDocument{\let\maketitle\relax}